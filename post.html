<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Clean Blog - Start Bootstrap Theme</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/clean-blog.min.css" rel="stylesheet">
    <link rel="stylesheet" href="syntax highlight/prism.css"/>
    <script type='text/javascript' src="syntax highlight/prism.js"></script>


  </head>

  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand" href="index.html">Minkush Jain</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="post.html">Blog</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contact.html">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Header -->
    <header class="masthead" style="background-image: url('img/wp1828955-programmer-wallpapers.jpg')">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <div class="post-heading">
              <h1>Python script for Subscription to Mailing List</h1>
              <h2 class="subheading">Project: Wizard/GUI helping students get started</h2>
              <span class="meta">Posted by
                <a href="#">Minkush Jain</a>
                on March 23, 2018</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Post Content -->
    <article>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <p>I am applying for Google Summer of Code this year under Debian. I got to know about this programme through my brother, who was selected for GSOC to contribute to a Debian project last year. He really inspired me to apply to GSOC, even though I hate to admit this on social media :P  GSoC is a great opportunity for students like me, to start contributing to open source softwares under the guidance of mentors.</p>

            <p>This motivated me to give my best and apply  this year. I decided to work on the project <a href="https://wiki.debian.org/SummerOfCode2018/Projects/WizardForStudentsAndNewInterns">“Wizard/GUI helping students get started”</a> under Debian. It aimed at developing a Python package which would simplify the process for new applicants in the open source community to get the required setup. For example, installing useful development tools on their computer, subscribing to relevant mailing lists. This project specially interests me as I feel it overcomes the challenges I faced when starting with open source contribution and setting up the environment. 

            <p>To make a meaningful contribution towards this project, I decided to create  a concise Python script. This script automates the process of subscribing to relevant Debian mailing list by sending your email and then confirming it through a customised reply by mail. The input would be entered by the user in a PyQt Based GUI application. Initially, I wasn’t aware of technologies such as PyQt, but I overcame this barrier when I started working on it. 
For getting started with GSoC, I would highly recommend reading the <a href="https://danielpocock.com/getting-selected-for-google-summer-of-code-2016">article</a> by Daniel Pocock (Debian mentor), since it personally helped me.

            <p>The blog explains how one could start contributing to the open source community by creating a github account, making a blog, IRC, mailing lists etc.</p>

            <h3>GIT</h3>

            <blockquote class="blockquote">Git is the fundamental requirement for collaborating  on open source projects. It’s a “Distributed Version control” which allows people to work on same project and share the code and everyone knows what changes you have made.</blockquote>

            <p>Initially I was not well versed with Git but during this application period, I learned important concepts by watching youtube videos and reading blogs. It helped me Learn the basic concepts such as repositories, git command prompt, forking, pull requests etc. I also completed a quick 15 minute course on <a href="https://try.github.io">https://try.github.io</a> for learning the command prompts. While learning Git, all the commands and concepts may seem confusing and trivial, but it comes naturally when you start using it for projects.</p>

            <h3 class="section-heading">PROJECT</h3>

            <p>The initial contribution I made for the project can be divided into 3 parts for better understanding:
             <ul>
               <li>Submitting user email onto the website (<a href=“https://lists.debian.org/debian-outreach/”>'Debain-oureach website'</a>)</li>
               <li>Confirming Subscription through a mail reply</li>
               <li>Making a Python GUI for the above tasks</li>
            </ul>  
            </p>
            <h2 class="section-heading">Submitting user email on the website</h2>
            <p>To subscribe to the mailing list,  I tried to enter my email on <a href=“https://lists.debian.org/debian-outreach/”>'Debain-oureach website'</a> and clicked on the subscribe button through a python script. On successful implementation, the user should get a mail confirming the same.</p>
            
              <img class="img-fluid" src="img/Screenshot (8).png" alt="">
           
            <span class="caption text-muted">This is where the users's email will get entered.</span>

            <p>First, I learned about Python scripts that can be used to automate a process. It involves using “requests” module which combines HTML library to be used in Python code. We don’t have to manually add strings to URLs or encode you POST data. You can easily add headers and form data using Python libraries. It has pre-configured functions that you can access website’s data.</p>
            <p>Another method that can be used to automate tasks is by using “Selenium Webdriver”. It provides a open source API for automating web applications and can be integrated in your internet browser. But, the major drawback of using it is that it is too slow as compared to importing modules in python.  Python also includes a module named urllib2 but working with it can become cumbersome.</p>
            <p>The ‘requests’ module can be imported into python library through command prompt by two ways:
      <ul>
                <li><b>$ pipenv install requests</b> : This command uses “pipenv” which is a ‘dependency manager’ for python. It’s a higher level tool which essentially simplifies the process of installing libraries.</br>Use pip to install Pipenv:
          pip install --user pipenv</li></br>
          <li><b>$ pip install requests</b> : ‘pip’ is the default method used to install software packages written in python</li></ul>
           I personally prefer the 2nd method as it is straightforward and installs basic packages without any hassles.
            </p>
            <p>Also, I installed Git Bash, a shell which works in the same way as the native Windows' Command Prompt, but it is more powerful and can do additional tasks like search command history, make user-defined functions etc.</p>
            <p>References:
                 <a href="http://docs.python-requests.org/en/latest/user/install/">http://docs.python-requests.org/en/latest/user/install/</a>
                 <a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/#virtualenvironments-ref">http://docs.python-guide.org/en/latest/dev/virtualenvs/#virtualenvironments-ref</a>
            </p>
    
            <p>For learning about its functioning , I wrote a code to automate the process for logging into Github account.</p>

<pre class='language-python'>
<code>
import requests
with requests.Session() as c:
    
    url="https://github.com/login"
    email=input("Enter you email: ")
    PASSWORD=input("Enter your password: ")
    c.get(url)
    login_data=dict(username=email, password=PASSWORD)
    c.post(url,data=login_data)
    page=c.get("https://github.com/minkushjain?tab=repositories")
    print(page.content)
</code>
</pre>        
      <p>
The c.get pings a website for information at that specific url (making request). The web server responds and you can collect the content using the ‘get’ function.
This could successfully login into my github account. I also tried some other tasks like downloading data (media) from any website.
      </p>     
  <p>Next, for the original task, we had to enter your email in this <a href="https://lists.debian.org/debian-outreach/link">link</a>.</p>
  <p>CODE: </br>
<pre class='language-python'>
<code> 
import requests
with requests.Session() as c:
    url="https://lists.debian.org/cgi-bin/subscribe.pl"
    email=input("Enter you email: ")
    c.get(url)
    login_data={'user_email':email, 'list':'debian-outreach', 'action':'Subscribe'}
    c.post(url,data=login_data,stream=True)
</code>
</pre>
</p>
<p>The email data had to be entered into the <a href="https://lists.debian.org/cgi-bin/subscribe.pl">https://lists.debian.org/cgi-bin/subscribe.pl</a> link as it can be discovered from the source page of the Mailing list web page. </p>
<img class="img-fluid" src="img/Screenshot (10).png" alt="">
           
            <span class="caption text-muted">Source code of the link highlighting the link.</span>
<p>After importing requests module, it asks the user to enter his email. Requests allow us to enter the data for the url as a dictionary of strings, which has been stored in login_data.</p>
<p>Now, we have Response object called ‘c’ using which we can get all the information.</br>
eg. If you want to enter key1=value1 and key2=value2 into httpbin.org/get , then you can store these values in a dictionary named ‘user_data’ and then enter it by:
</p>
<p>
<pre class='language-python'>
<code> 
user_data = {'key1': 'value1', 'key2': 'value2'}
r = requests.get('http://httpbin.org/get', params=user_data)
</code>
</pre>
</p>
<p>This is how you can enter data through post method of HTTPS on a web page.</br>
<pre class='language-python'>
<code>c.post(url,data=login_data,stream=True)</code></pre></p>
<p>I learned that HTTP has 2 types for inputting data: POST and GET
</p>
<ul>
  <li>‘Get’ request includes all the user data into the URL. These parameters are shown in the URL and hence get stored in history
</li>
  <li>‘Post’ request submits the user data into a specific resource instead of showing up in the URL, hence it is a more secure way.</li>
</ul>
<p>The Debian mailing list uses POST method since the login data doesn't get shown in the url of the website.
</p>

<h2 class="section-heading">Confirming Subscription through a mail reply</h2>
<p>After the clicking the subscribe button in the previous step, the user receives a mail. The user has to reply to that mail with Subject String as specified.
To simplify this purpose, I learned about SMTP protocol (Simple Mail Transfer Protocol)
</p>
<p>This is the basic code for sending a mail from one email to another using SMTP Protocol. It is basically a IP protocol used in sending and receiving e-mail.</p>
<pre class='language-python'>
<code>
import smtplib
server=smtplib.SMTP("smtp.gmail.com",587)
server.starttls()
server.login("your_email","password")
msg="Hello...sending message from smtp server protocol"
server.sendmail("your_email","receiver_mail",msg)
server.quit()
</code>
</pre>
<p>The server.login syntax intakes your username and password and logins into your mail.</br>
<pre class='language-python'>
<code>
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText
</code>
</pre></br>
This is a must for sending a mail with customized subject.</br>The ‘587’ is the port through which the email is being sent. You can use other ports as well but every port leads to a different output!</br>
<p>I got multiple errors in the first code, stating that the authorization failed and it couldn’t connect to the network.
</br>To fix these, I allowed “installation of less secure 3rd party apps” in gmail settings. The statement “server.starttls()” also has to be added before authorisation into your account to get it working. 
</p>
<h4>CODE:</h4>
<pre class='language-python'>
<code>
import smtplib
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText
a=input("Enter the code of the subject you received in your mail: ")
b="CONFIRM "+a
fromaddr="sender_email"
toaddr="debian-outreach-request@lists.debian.org"
msg = MIMEMultipart()
msg['From'] = fromaddr
msg['To'] = toaddr
msg['Subject'] = b
 
body = "Subscribe"
msg.attach(MIMEText(body, 'plain'))
 
server = smtplib.SMTP('smtp.gmail.com', 587)
server.starttls()
server.login(fromaddr, "sender_password")
text = msg.as_string()
server.sendmail(fromaddr, toaddr, text)
server.quit()
</code>
</pre>
<p>The mail could be sent from any email id regardless of user’s email. After entering the Subject string in the mail, it composes a mail to ‘debian-outreach-request@lists.debian.org’ and eventually the user gets subscribed. I have concatenated the user code with 'CONFIRM' string for the subject of the mail. </p>
          </div>
        </div>
      </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <ul class="list-inline text-center">
              <li class="list-inline-item">
                <a href="#">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            </ul>
            <p class="copyright text-muted">Copyright &copy; minkush.me 2018</p>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/clean-blog.min.js"></script>

  </body>

</html>
